基本設計 (Basic Design)
=======================

1. システムアーキテクチャ
-------------------------
本システムは、シングルページアプリケーション(SPA)として構成される。
Fletフレームワークを使用し、フロントエンド(UI)とバックエンド(ロジック)をPython単一言語で記述する。

.. code-block:: text

    User (Browser) <--> [ Flet Server (Python) ]
                             |
                             +-- OpenCV (Image Processing)
                             |
                             +-- TensorFlow/Keras (AI Model)

2. ディレクトリ構成
-------------------
Webモードでのファイルアップロードに対応するため、一時保存用のディレクトリを確保する。

*   `src/main.py`: アプリケーションのエントリポイント
*   `src/assets/uploads/`: アップロードされた画像の一時保存先

3. 主要コンポーネント
---------------------
*   **Main App (Flet)**: 画面描画、イベントハンドリングを担当。
*   **Image Processor (OpenCV)**: アップロードされた生の画像を、AIが理解可能な形式に正規化する。
*   **AI Model (CNN)**: 画像を入力として受け取り、推論を行う。アプリ起動時に学習済みモデルをメモリ上に展開する（本デモでは起動時に学習）。

4. 画面設計
-----------
シングルスクリーン構成。

*   **ヘッダー**: タイトル表示
*   **コントロールエリア**: 「画像をアップロード」ボタン
*   **ステータス表示**: 現在の処理状態（アップロード中、判定中、結果）を表示
*   **プレビューエリア**:
    *   Left: 元画像
    *   Right: 前処理済み画像 (28x28)
